{"ast":null,"code":"var _jsxFileName = \"/Users/sarahzamrik/Documents/codingbootcamp/frontend/src/LandingPage.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport AppContext from './AppContext';\nimport Card from './Card.js';\nimport Jumbotron from './Jumbotron.js';\nimport NavBar from './NavBar.js';\nimport NewsletterForm from './NewsletterForm.js';\nconst products = [{\n  brand: 'iPhone 11 Pro',\n  description: 'Lots to love. Less to spend. Starting at $399. From nine dollars and fifty four cents per month or two hundred and twenty nine dollars with trade in.From $9.54/mo. or $229 with trade-in.*',\n  image: \"https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\"\n}, {\n  brand: 'Samsung S20',\n  description: 'Lots to love. Less to spend. Starting at $399. From nine dollars and fifty four cents per month or two hundred and twenty nine dollars with trade in.From $9.54/mo. or $229 with trade-in.*',\n  image: \"https://images.unsplash.com/photo-1555774698-0b77e0d5fac6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&w=1810&q=80\"\n}, {\n  brand: 'Huwaei P40 Pro',\n  description: 'Lots to love. Less to spend. Starting at $399. From nine dollars and fifty four cents per month or two hundred and twenty nine dollars with trade in.From $9.54/mo. or $229 with trade-in.*',\n  image: \"https://images.unsplash.com/photo-1564583138697-34f7b7488f94?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1949&q=80\"\n}]; // 1. Connect to the globalState\n// 2. Conditionally render the cards\n// 3. Use the useEffect() to subscribe to the globalState.loggedIn\n// 4. If globalState.loggedIn is true, fetch products from db\n\nconst LandingPage = () => {\n  const [globalState, setGlobalState] = useContext(AppContext);\n  const [state, setState] = useState({\n    products: []\n  });\n  useEffect(() => {\n    // only fetch products if and when the user logs in\n    if (globalState.loggedIn === true) {\n      fetch('http://localhost:8081/products').then(result => result.json()).then(json => {\n        setState({ ...state,\n          products: json.products\n        });\n      });\n    }\n  }, [globalState.loggedIn]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Newsletter\",\n    description: \"Enter your email below to register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NewsletterForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Featured Products\",\n    description: \"Check out these latest trendy items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, products.map(globalState.loggedIn === true && state.products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: product.brand,\n    description: product.description,\n    image: product.image,\n    buttonLabel: \"Buy\",\n    buttonLink: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  })))), globalState.loggedIn === false && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, \"Please login to see the exclusive products.\")), \"}\")));\n};\n\nexport default LandingPage;","map":{"version":3,"sources":["/Users/sarahzamrik/Documents/codingbootcamp/frontend/src/LandingPage.js"],"names":["React","useContext","useEffect","useState","AppContext","Card","Jumbotron","NavBar","NewsletterForm","products","brand","description","image","LandingPage","globalState","setGlobalState","state","setState","loggedIn","fetch","then","result","json","map","product"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport AppContext from './AppContext';\nimport Card from './Card.js';\nimport Jumbotron from './Jumbotron.js';\nimport NavBar from './NavBar.js';\nimport NewsletterForm from './NewsletterForm.js';\n\nconst products = [\n  {\n    brand: 'iPhone 11 Pro',\n    description: 'Lots to love. Less to spend. Starting at $399. From nine dollars and fifty four cents per month or two hundred and twenty nine dollars with trade in.From $9.54/mo. or $229 with trade-in.*',\n    image: \"https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\"\n  },\n  {\n    brand: 'Samsung S20',\n    description: 'Lots to love. Less to spend. Starting at $399. From nine dollars and fifty four cents per month or two hundred and twenty nine dollars with trade in.From $9.54/mo. or $229 with trade-in.*',\n    image: \"https://images.unsplash.com/photo-1555774698-0b77e0d5fac6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&w=1810&q=80\"\n  },\n  {\n    brand: 'Huwaei P40 Pro',\n    description: 'Lots to love. Less to spend. Starting at $399. From nine dollars and fifty four cents per month or two hundred and twenty nine dollars with trade in.From $9.54/mo. or $229 with trade-in.*',\n    image: \"https://images.unsplash.com/photo-1564583138697-34f7b7488f94?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1949&q=80\"\n  }\n]\n\n// 1. Connect to the globalState\n// 2. Conditionally render the cards\n// 3. Use the useEffect() to subscribe to the globalState.loggedIn\n// 4. If globalState.loggedIn is true, fetch products from db\n\nconst LandingPage = () => {\n\nconst [globalState, setGlobalState] = useContext(AppContext);\nconst [state, setState] = useState({ products: []});\n\nuseEffect(\n  () => {\n    // only fetch products if and when the user logs in\n    if(globalState.loggedIn === true) {\n      fetch('http://localhost:8081/products')\n      .then(\n        (result)=>result.json()\n      )\n      .then (\n        (json)=> {\n          setState(\n            {\n              ...state,\n              products: json.products\n            }\n          )\n        }\n      );\n    }\n  },\n  [ globalState.loggedIn ]\n);\n\n  return (\n    <div>\n        <NavBar />\n        <Jumbotron \n          title=\"Newsletter\" \n          description=\"Enter your email below to register\"\n        >\n          <NewsletterForm />\n        </Jumbotron>\n\n        <Jumbotron \n          title=\"Featured Products\" \n          description=\"Check out these latest trendy items\"\n        >\n\n        <div className=\"row\">\n          {\n            products.map(\n            globalState.loggedIn === true &&\n            state.products.map(\n              (product)=>\n                <div className=\"col-lg-4 col-sm-6\">\n                  <Card\n                    title={product.brand}\n                    description={product.description}\n                    image={product.image}\n                    buttonLabel=\"Buy\"\n                    buttonLink=\"#\"\n                  />\n                </div>)\n            )\n          }\n\n          {\n            globalState.loggedIn === false &&\n            <div className=\"col-lg-4 col-sm-6\">\n              <p>Please login to see the exclusive products.</p>\n            </div>\n          }\n        }\n          </div>\n        </Jumbotron>\n    </div>\n)\n};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}