{"ast":null,"code":"var _jsxFileName = \"/Users/sarahzamrik/Documents/codingbootcamp/finalproject/frontend/src/LoginPage.js\";\nimport React, { useContext, useState } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport AppContext from './AppContext';\nimport NavBar from './NavBar.js';\n\nconst LoginPage = () => {\n  let emailField;\n  let passwordField;\n  const [globalState, setGlobalState] = useContext(AppContext);\n  const [state, setState] = useState({\n    loading: false\n  });\n\n  const loginUser = () => {\n    setState({ ...state,\n      loading: true\n    });\n    fetch('http://localhost:8081/users/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: emailField.value,\n        password: passwordField.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(result => result.json()).then(json => {\n      const {\n        message,\n        jsonwebtoken\n      } = json;\n\n      if (jsonwebtoken) {\n        setGlobalState({ ...globalState,\n          loggedIn: true\n        });\n        localStorage.setItem('jwt', jsonwebtoken);\n        setState({ ...state,\n          loading: false\n        });\n      } else {\n        alert(message);\n      }\n    });\n  };\n\n  if (globalState.loggedIn === true) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      align: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, \"Create an Account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm\",\n      style: {\n        maxWidth: '400px',\n        margin: '0 auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputEmail1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 37\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: comp => emailField = comp,\n      type: \"email\",\n      className: \"form-control\",\n      id: \"exampleInputEmail1\",\n      \"aria-describedby\": \"emailHelp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"emailHelp\",\n      className: \"form-text text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }\n    }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputPassword1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: comp => passwordField = comp,\n      type: \"password\",\n      className: \"form-control\",\n      id: \"exampleInputPassword1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: loginUser,\n      type: \"button\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 36\n      }\n    }), \"If you're not a registered user, click \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 80\n      }\n    }, \"here\"), \" to create an account\"), state.loading && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      className: \"circular\",\n      viewBox: \"25 25 50 50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      className: \"path\",\n      cx: \"50\",\n      cy: \"50\",\n      r: \"20\",\n      fill: \"none\",\n      \"stroke-width\": \"2\",\n      \"stroke-miterlimit\": \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 41\n      }\n    }))))))));\n  }\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/sarahzamrik/Documents/codingbootcamp/finalproject/frontend/src/LoginPage.js"],"names":["React","useContext","useState","Redirect","Link","AppContext","NavBar","LoginPage","emailField","passwordField","globalState","setGlobalState","state","setState","loading","loginUser","fetch","method","body","JSON","stringify","email","value","password","headers","then","result","json","message","jsonwebtoken","loggedIn","localStorage","setItem","alert","maxWidth","margin","comp"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport AppContext from './AppContext';\nimport NavBar from './NavBar.js';\n\nconst LoginPage = () => {\n\n    let emailField;\n    let passwordField;\n\n    const [globalState, setGlobalState] = useContext(AppContext);\n\n    const [state, setState] = useState(\n        {\n            loading: false\n        }\n    )\n\n    const loginUser = () => {\n\n        setState({...state, loading: true});\n\n        fetch('http://localhost:8081/users/login', \n            {\n                method: 'POST',\n                body: JSON.stringify({\n                    email: emailField.value,\n                    password: passwordField.value\n                }),\n                headers: {\"Content-Type\": \"application/json\"}\n            }\n        )\n        .then(\n            (result) => result.json()\n        )\n        .then (\n            (json) => {\n                const { message, jsonwebtoken } = json;\n\n                if(jsonwebtoken) {\n                    setGlobalState(\n                        {\n                            ...globalState,\n                            loggedIn: true\n                        }\n                    )\n\n                    localStorage.setItem('jwt', jsonwebtoken);\n\n                    setState({...state, loading: false})\n                } else {\n                    alert(message);\n                }\n            }\n        )\n    }\n\n    if(globalState.loggedIn === true) {\n        return(<Redirect to=\"/\"/>)\n    }\n\n    else {\n        return(\n            <div>\n                <NavBar />\n                <h1 align>Create an Account</h1>\n\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-sm\" \n                        style={{maxWidth: '400px', margin: '0 auto'}}>\n                            <div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"exampleInputEmail1\">\n                                        Email address\n                                    </label>\n\n                                    <input \n                                    ref={ (comp)=> emailField = comp}\n                                    type=\"email\" \n                                    className=\"form-control\" \n                                    id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"/>\n\n                                    <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"exampleInputPassword1\">Password</label>\n\n                                    <input \n                                    ref={(comp)=> passwordField = comp }\n                                    type=\"password\" \n                                    className=\"form-control\" \n                                    id=\"exampleInputPassword1\"/>\n\n                                </div>\n\n                                <button \n                                onClick={loginUser}\n                                type=\"button\"\n                                className=\"btn btn-primary\">Login</button>\n\n\n                                <p><br/>If you're not a registered user, click <Link to=\"/register\">here</Link> to create an account</p>\n\n                                {\n                                 state.loading && \n                                 <div className=\"loader\">\n                                    <svg className=\"circular\" viewBox=\"25 25 50 50\">\n                                        <circle className=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n                                    </svg>\n                                </div>\n                                 }\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}