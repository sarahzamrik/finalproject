{"ast":null,"code":"var _jsxFileName = \"/Users/sarahzamrik/Documents/codingbootcamp/frontend/src/RegistrationPage.js\";\nimport React from 'react';\nimport NavBar from './NavBar.js';\n\nconst RegistrationPage = () => {\n  // Add ref prop to all input fields\n  let firstNameField;\n  let lastNameField;\n  let emailField;\n  let passwordField; // Connected to globalState\n\n  const [globalState, setGlobalState] = useContext(AppContext); // A local state\n\n  const [state, setState] = useState({\n    loading: false\n  });\n\n  const registerUser = () => {\n    // Start loading\n    setState({ ...state,\n      loading: true\n    });\n    fetch('http://localhost:8081/users/register', {\n      method: 'POST',\n      body: JSON.stringify({\n        firstName: firstNameField.value,\n        lastName: lastNameField.value,\n        email: emailField.value,\n        password: passwordField.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(result => result.json()).then(json => {\n      const {\n        message,\n        jsonwebtoken\n      } = json;\n\n      if (jsonwebtoken) {\n        // update the globalState\n        setGlobalState({ ...globalState,\n          loggedIn: true\n        }); // save the jwt in the browser\n\n        localStorage.setItem('jwt', jsonwebtoken);\n        setState({ ...state,\n          loading: false\n        });\n      } else {\n        // throw an error\n        alert(message);\n      }\n    });\n  }; // If the user is loggedIn, redirect them\n\n\n  if (globalState.loggedIn === true) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 16\n      }\n    });\n  } // Otherwise, show the login form\n  else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(NavBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, \"Registration\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm\",\n        style: {\n          maxWidth: '400px',\n          margin: '0 auto'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 37\n        }\n      }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        \"aria-describedby\": \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }\n      }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        \"aria-describedby\": \"lastName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"exampleInputEmail1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 37\n        }\n      }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        id: \"exampleInputEmail1\",\n        \"aria-describedby\": \"emailHelp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"small\", {\n        id: \"emailHelp\",\n        className: \"form-text text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 37\n        }\n      }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 37\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        \"aria-describedby\": \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }\n      }, \"Register\"))))));\n    }\n};\n\nexport default RegistrationPage;","map":{"version":3,"sources":["/Users/sarahzamrik/Documents/codingbootcamp/frontend/src/RegistrationPage.js"],"names":["React","NavBar","RegistrationPage","firstNameField","lastNameField","emailField","passwordField","globalState","setGlobalState","useContext","AppContext","state","setState","useState","loading","registerUser","fetch","method","body","JSON","stringify","firstName","value","lastName","email","password","headers","then","result","json","message","jsonwebtoken","loggedIn","localStorage","setItem","alert","maxWidth","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport NavBar from './NavBar.js';\n\nconst RegistrationPage = () => {\n\n    // Add ref prop to all input fields\n    let firstNameField;\n    let lastNameField;\n    let emailField;\n    let passwordField;\n\n    // Connected to globalState\n    const [globalState, setGlobalState] = useContext(AppContext);\n    \n    // A local state\n    const [state, setState] = useState(\n        {\n            loading: false\n        }\n    )\n\nconst registerUser = () => {\n\n    // Start loading\n        setState({...state, loading: true})\n\n        fetch('http://localhost:8081/users/register', \n            {\n                method: 'POST',\n                body: JSON.stringify({\n                    firstName: firstNameField.value,\n                    lastName: lastNameField.value,\n                    email: emailField.value,\n                    password: passwordField.value\n                }),\n                headers: {\"Content-Type\": \"application/json\"}\n            }\n        )\n        .then(\n            (result) => result.json()\n        )\n        .then (\n            (json) => {\n                const { message, jsonwebtoken } = json;\n                if(jsonwebtoken) {\n                    // update the globalState\n                    setGlobalState(\n                        {\n                            ...globalState,\n                            loggedIn: true\n                        }\n                    )\n\n                    // save the jwt in the browser\n                    localStorage.setItem('jwt', jsonwebtoken);\n\n                    setState({...state, loading: false})\n                } else {\n                    // throw an error\n                    alert(message);\n                }\n            }\n        )\n    }\n\n    // If the user is loggedIn, redirect them\n    if(globalState.loggedIn === true) {\n        return(<Redirect to=\"/login\"/>)\n    }\n\n    // Otherwise, show the login form\n    else {\n        return(\n            <div>\n                <NavBar />\n                <h1>Registration</h1>\n\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-sm\" \n                        style={{maxWidth: '400px', margin: '0 auto'}}>\n                            <div>\n\n\n                                <div className=\"form-group\">\n                                    <label>\n                                        First Name\n                                    </label>\n\n                                    <input \n                                    type=\"text\" \n                                    className=\"form-control\" \n                                    aria-describedby=\"firstName\"/>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label>\n                                        Last Name\n                                    </label>\n\n                                    <input \n                                    type=\"text\" \n                                    className=\"form-control\" \n                                    aria-describedby=\"lastName\"/>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"exampleInputEmail1\">\n                                        Email address\n                                    </label>\n\n                                    <input \n                                    type=\"email\" \n                                    className=\"form-control\" \n                                    id=\"exampleInputEmail1\" \n                                    aria-describedby=\"emailHelp\"/>\n\n                                    <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label>\n                                        Password\n                                    </label>\n\n                                    <input \n                                    type=\"password\" \n                                    className=\"form-control\" \n                                    aria-describedby=\"password\"/>\n                                </div>\n\n                                <button\n                                type=\"button\"\n                                className=\"btn btn-primary\">Register\n                                </button>\n                        </div>\n                    </div>\n                </div>\n              </div>\n            </div>\n        )\n}\n}\nexport default RegistrationPage;"]},"metadata":{},"sourceType":"module"}