{"ast":null,"code":"var _jsxFileName = \"/Users/sarahzamrik/Documents/codingbootcamp/frontend/src/LandingPage.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport AppContext from './AppContext';\nimport Card from './Card.js';\nimport Jumbotron from './Jumbotron.js';\nimport NavBar from './NavBar.js';\nimport NewsletterForm from './NewsletterForm.js'; // 1. Connect to the globalState\n// 2. Conditionally render the cards\n// 3. Use the useEffect() to subscribe to the globalState.loggedIn\n// 4. If globalState.loggedIn is true, fetch products from db\n\nconst LandingPage = () => {\n  const [globalState, setGlobalState] = useContext(AppContext);\n  const [state, setState] = useState({\n    products: []\n  });\n  useEffect(() => {\n    // only fetch products if and when the user logs in\n    if (globalState.loggedIn === true) {\n      fetch('http://localhost:8081/products').then(result => result.json()).then(json => {\n        setState({ ...state,\n          products: json.products\n        });\n      });\n    }\n  }, [globalState.loggedIn]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Newsletter\",\n    description: \"Enter your email below to register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NewsletterForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Featured Products\",\n    description: \"Check out these latest trendy items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, globalState.loggedIn === true && state.products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: product.brand,\n    description: product.description,\n    image: product.image,\n    buttonLabel: \"Buy\",\n    buttonLink: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }))), \";\", globalState.loggedIn === false && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Please login to see the exclusive products.\")), \";\"), \");\"));\n};\n\nexport default LandingPage;","map":{"version":3,"sources":["/Users/sarahzamrik/Documents/codingbootcamp/frontend/src/LandingPage.js"],"names":["React","useContext","useEffect","useState","AppContext","Card","Jumbotron","NavBar","NewsletterForm","LandingPage","globalState","setGlobalState","state","setState","products","loggedIn","fetch","then","result","json","map","product","brand","description","image"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,cAAP,MAA2B,qBAA3B,C,CAEA;AACA;AACA;AACA;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAE1B,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCV,UAAU,CAACG,UAAD,CAAhD;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC;AAAEW,IAAAA,QAAQ,EAAE;AAAZ,GAAD,CAAlC;AAEEZ,EAAAA,SAAS,CACP,MAAM;AACJ;AACA,QAAGQ,WAAW,CAACK,QAAZ,KAAyB,IAA5B,EAAkC;AAChCC,MAAAA,KAAK,CAAC,gCAAD,CAAL,CACCC,IADD,CAEGC,MAAD,IAAUA,MAAM,CAACC,IAAP,EAFZ,EAICF,IAJD,CAKGE,IAAD,IAAS;AACPN,QAAAA,QAAQ,CACN,EACE,GAAGD,KADL;AAEEE,UAAAA,QAAQ,EAAEK,IAAI,CAACL;AAFjB,SADM,CAAR;AAMD,OAZH;AAcD;AACF,GAnBM,EAoBP,CAAEJ,WAAW,CAACK,QAAd,CApBO,CAAT;AAuBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,YADR;AAEE,IAAA,WAAW,EAAC,oCAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFJ,eASI,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,mBADR;AAEE,IAAA,WAAW,EAAC,qCAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKA;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIL,WAAW,CAACK,QAAZ,KAAyB,IAAzB,IACAH,KAAK,CAACE,QAAN,CAAeM,GAAf,CACGC,OAAD,iBACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAEA,OAAO,CAACC,KADjB;AAEE,IAAA,WAAW,EAAED,OAAO,CAACE,WAFvB;AAGE,IAAA,KAAK,EAAEF,OAAO,CAACG,KAHjB;AAIE,IAAA,WAAW,EAAC,KAJd;AAKE,IAAA,UAAU,EAAC,GALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFJ,CAHJ,OAgBGd,WAAW,CAACK,QAAZ,KAAyB,KAAzB,iBACC;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDADF,CAjBJ,MALA,OATJ,CADF;AAuCE,CAnEJ;;AAqEA,eAAeN,WAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport AppContext from './AppContext';\nimport Card from './Card.js';\nimport Jumbotron from './Jumbotron.js';\nimport NavBar from './NavBar.js';\nimport NewsletterForm from './NewsletterForm.js';\n\n// 1. Connect to the globalState\n// 2. Conditionally render the cards\n// 3. Use the useEffect() to subscribe to the globalState.loggedIn\n// 4. If globalState.loggedIn is true, fetch products from db\n\nconst LandingPage = () => {\n\nconst [globalState, setGlobalState] = useContext(AppContext);\nconst [state, setState] = useState({ products: []});\n\n  useEffect(\n    () => {\n      // only fetch products if and when the user logs in\n      if(globalState.loggedIn === true) {\n        fetch('http://localhost:8081/products')\n        .then(\n          (result)=>result.json()\n        )\n        .then (\n          (json)=> {\n            setState(\n              {\n                ...state,\n                products: json.products\n              }\n            )\n          }\n        );\n      }\n    },\n    [ globalState.loggedIn ]\n  );\n\n  return (\n    <div>\n        <NavBar />\n        <Jumbotron \n          title=\"Newsletter\" \n          description=\"Enter your email below to register\"\n        >\n          <NewsletterForm />\n        </Jumbotron>\n\n        <Jumbotron \n          title=\"Featured Products\" \n          description=\"Check out these latest trendy items\"\n        >\n\n        <div className=\"row\">\n          {\n            globalState.loggedIn === true &&\n            state.products.map(\n              (product)=>\n                <div className=\"col-lg-4 col-sm-6\">\n                  <Card\n                    title={product.brand}\n                    description={product.description}\n                    image={product.image}\n                    buttonLabel=\"Buy\"\n                    buttonLink=\"#\"\n                  />\n                </div>)\n          };\n\n          {globalState.loggedIn === false &&\n            <div className=\"col-lg-4 col-sm-6\">\n              <p>Please login to see the exclusive products.</p>\n            </div>};\n    </div>\n  );\n    </Jumbotron>\n    </div>\n  )};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}